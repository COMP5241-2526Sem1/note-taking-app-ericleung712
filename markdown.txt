è®“æˆ‘æ›´æ–°é€™å€‹ Markdownï¼ŒåŠ å…¥ç­†è¨˜åˆ—è¡¨ä¸­æ¨™ç±¤é¡¯ç¤ºçš„ç›¸é—œä¿®æ”¹ï¼š

# ç­†è¨˜æ‡‰ç”¨ç¨‹å¼æ›´æ–°ï¼šæ–°å¢å¯é¸æ¬„ä½
## åŠŸèƒ½æ›´æ–°æ‘˜è¦
åœ¨é€™æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘å€‘ç‚ºç­†è¨˜æ‡‰ç”¨ç¨‹å¼æ·»åŠ äº†ä¸‰å€‹æ–°çš„å¯é¸æ¬„ä½ï¼š
- æ¨™ç±¤ (Tags)
- äº‹ä»¶æ—¥æœŸ (Event Date)
- äº‹ä»¶æ™‚é–“ (Event Time)

## 1. è³‡æ–™åº«æ›´æ–°
### åœ¨ `Note` æ¨¡å‹ä¸­æ–°å¢æ¬„ä½
```python
class Note(db.Model):
    # åŸæœ‰æ¬„ä½
    id = db.Column(db.Integer, primary_key=True)
    title = db.Column(db.String(200), nullable=False)
    content = db.Column(db.Text, nullable=False)
    
    # æ–°å¢æ¬„ä½
    tags = db.Column(db.String(500), nullable=True)      # ä»¥é€—è™Ÿåˆ†éš”çš„æ¨™ç±¤å­—ä¸²
    event_date = db.Column(db.Date, nullable=True)       # äº‹ä»¶æ—¥æœŸ
    event_time = db.Column(db.Time, nullable=True)       # äº‹ä»¶æ™‚é–“
```

## 2. å¾Œç«¯ API æ›´æ–°
### ä¿®æ”¹ç­†è¨˜è·¯ç”±
```python
@note_bp.route('/notes', methods=['POST'])
def create_note():
    try:
        data = request.json
        # è™•ç†æ—¥æœŸå’Œæ™‚é–“å­—ç¬¦ä¸²
        event_date = None
        if data.get('event_date'):
            event_date = datetime.strptime(data['event_date'], '%Y-%m-%d').date()
            
        event_time = None
        if data.get('event_time'):
            event_time = datetime.strptime(data['event_time'], '%H:%M').time()

        note = Note(
            title=data['title'],
            content=data['content'],
            tags=data.get('tags'),
            event_date=event_date,
            event_time=event_time
        )
```

## 3. å‰ç«¯ç•Œé¢æ›´æ–°
### æ–°å¢è¡¨å–®æ¬„ä½
```html
<div id="editorForm">
    <!-- åŸæœ‰æ¬„ä½ -->
    <div class="form-group">
        <label class="form-label" for="noteTitle">Title</label>
        <input type="text" class="form-input" id="noteTitle">
    </div>

    <!-- æ–°å¢æ¬„ä½ -->
    <div class="form-group">
        <label class="form-label" for="noteTags">Tags (comma separated)</label>
        <input type="text" class="form-input" id="noteTags">
    </div>

    <div class="form-group">
        <label class="form-label" for="noteEventDate">Event Date</label>
        <input type="date" class="form-input" id="noteEventDate">
    </div>

    <div class="form-group">
        <label class="form-label" for="noteEventTime">Event Time</label>
        <input type="time" class="form-input" id="noteEventTime">
    </div>
</div>
```

### æ–°å¢ CSS æ¨£å¼
```css
.note-footer {
    margin-top: 8px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.note-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

.tag {
    display: inline-block;
    padding: 2px 8px;
    background-color: #e8eaf6;
    color: #667eea;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}

.event-date {
    display: inline-block;
    padding: 2px 8px;
    background-color: #e8f5e9;
    color: #28a745;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}
```

### ç­†è¨˜åˆ—è¡¨é¡¯ç¤ºæ›´æ–°
```javascript
renderNotesList() {
    const notesList = document.getElementById('notesList');
    
    if (this.notes.length === 0) {
        notesList.innerHTML = '<div class="empty-state"><p>No notes yet. Create your first note!</p></div>';
        return;
    }

    notesList.innerHTML = this.notes.map(note => `
        <div class="note-item ${this.currentNote && this.currentNote.id === note.id ? 'active' : ''}" 
             data-note-id="${note.id}" onclick="noteTaker.selectNote(${note.id})">
            <div class="note-header">
                <div class="note-title">${this.escapeHtml(note.title || 'Untitled')}</div>
                <div class="note-meta">${this.formatDate(note.updated_at)}</div>
            </div>
            <div class="note-preview">${this.escapeHtml(note.content || 'No content')}</div>
            <div class="note-footer">
                ${Array.isArray(note.tags) && note.tags.length > 0 ? 
                    `<div class="note-tags">${note.tags.map(tag => 
                        `<span class="tag">#${this.escapeHtml(tag)}</span>`
                    ).join(' ')}</div>` 
                    : ''}
                ${note.event_date ? `<div class="note-event">${this.formatEventDateTime(note.event_date, note.event_time)}</div>` : ''}
            </div>
        </div>
    `).join('');
}
```

### JavaScript åŠŸèƒ½æ›´æ–°
1. æ ¼å¼åŒ–è¼”åŠ©å‡½æ•¸ï¼š
```javascript
formatTags(tags) {
    if (!tags || typeof tags !== 'string') return '';
    return tags.split(',')
        .map(tag => tag.trim())
        .filter(tag => tag)
        .map(tag => `<span class="tag">#${this.escapeHtml(tag)}</span>`)
        .join(' ');
}

formatEventDateTime(date, time) {
    if (!date) return '';
    const eventDate = new Date(date);
    const formattedDate = eventDate.toLocaleDateString();
    return `<span class="event-date">ğŸ“… ${formattedDate}${time ? ` â° ${time}` : ''}</span>`;
}
```

2. æ›´æ–°ç­†è¨˜é¸æ“‡åŠŸèƒ½ï¼š
```javascript
async selectNote(noteId) {
    const note = this.notes.find(n => n.id === noteId);
    if (!note) return;

    this.currentNote = note;
    this.showEditor();
    this.renderNotesList();
    
    document.getElementById('noteTitle').value = note.title || '';
    document.getElementById('noteContent').value = note.content || '';
    document.getElementById('noteTags').value = Array.isArray(note.tags) ? note.tags.join(', ') : '';
    document.getElementById('noteEventDate').value = note.event_date || '';
    document.getElementById('noteEventTime').value = note.event_time || '';
    document.getElementById('editorTitle').textContent = note.title || 'Untitled Note';
}
```

3. ä¿å­˜åŠŸèƒ½æ›´æ–°ï¼š
```javascript
async saveNote() {
    const noteData = {
        title: title || 'Untitled',
        content: content,
        tags: tags || null,
        event_date: eventDate || null,
        event_time: eventTime || null
    };
}
```

## ä½¿ç”¨æ–¹æ³•
1. **æ·»åŠ æ¨™ç±¤**
   - åœ¨æ¨™ç±¤æ¬„ä½ä¸­è¼¸å…¥æ¨™ç±¤
   - å¤šå€‹æ¨™ç±¤ç”¨é€—è™Ÿåˆ†éš”
   - ä¾‹å¦‚ï¼š`work, urgent, meeting`
   - æ¨™ç±¤æœƒåœ¨ç­†è¨˜åˆ—è¡¨ä¸­ä»¥è—è‰²å°æ¨™ç±¤å½¢å¼é¡¯ç¤º

2. **è¨­ç½®äº‹ä»¶æ—¥æœŸ**
   - ä½¿ç”¨æ—¥æœŸé¸æ“‡å™¨é¸æ“‡æ—¥æœŸ
   - å¯ä»¥ç‚ºç©ºï¼ˆå¯é¸æ¬„ä½ï¼‰
   - åœ¨ç­†è¨˜åˆ—è¡¨ä¸­ä»¥ç¶ è‰²æ¨™ç±¤é¡¯ç¤ºï¼ŒåŒ…å«æ—¥æ›†åœ–ç¤º

3. **è¨­ç½®äº‹ä»¶æ™‚é–“**
   - ä½¿ç”¨æ™‚é–“é¸æ“‡å™¨é¸æ“‡æ™‚é–“
   - å¯ä»¥ç‚ºç©ºï¼ˆå¯é¸æ¬„ä½ï¼‰
   - åœ¨ç­†è¨˜åˆ—è¡¨ä¸­èˆ‡æ—¥æœŸä¸€èµ·é¡¯ç¤ºï¼ŒåŒ…å«æ™‚é˜åœ–ç¤º

## é¡¯ç¤ºæ•ˆæœ
- **æ¨™ç±¤é¡¯ç¤º**ï¼š
  - æ¯å€‹æ¨™ç±¤å‰é¢æœ‰ "#" ç¬¦è™Ÿ
  - è—è‰²èƒŒæ™¯ï¼Œåœ“è§’è¨­è¨ˆ
  - å¤šå€‹æ¨™ç±¤ä¸¦æ’é¡¯ç¤ºï¼Œè‡ªå‹•æ›è¡Œ
- **æ—¥æœŸå’Œæ™‚é–“**ï¼š
  - ç¶ è‰²èƒŒæ™¯ï¼Œåœ“è§’è¨­è¨ˆ
  - åŒ…å«è¡¨æƒ…ç¬¦è™Ÿæç¤ºï¼ˆğŸ“… æ—¥æœŸï¼Œâ° æ™‚é–“ï¼‰
  - é¡¯ç¤ºåœ¨æ¨™ç±¤ä¸‹æ–¹
- **æ•´é«”å¸ƒå±€**ï¼š
  - æ¨™ç±¤å’Œäº‹ä»¶ä¿¡æ¯ä½æ–¼ç­†è¨˜å¡ç‰‡åº•éƒ¨
  - æ¸…æ™°çš„å±¤æ¬¡çµæ§‹
  - éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œé©æ‡‰ä¸åŒè¢å¹•å¤§å°

## æ³¨æ„äº‹é …
- æ‰€æœ‰æ–°å¢çš„æ¬„ä½éƒ½æ˜¯å¯é¸çš„
- æ¨™ç±¤ä½¿ç”¨é€—è™Ÿåˆ†éš”ï¼Œæœƒè‡ªå‹•è™•ç†ç©ºæ ¼
- æ—¥æœŸå’Œæ™‚é–“æ ¼å¼æœƒè‡ªå‹•æ¨™æº–åŒ–
- æ”¯æŒç·¨è¼¯ç¾æœ‰ç­†è¨˜çš„æ‰€æœ‰æ¬„ä½
- è³‡æ–™æœƒè‡ªå‹•ä¿å­˜åœ¨è³‡æ–™åº«ä¸­
- æ¨™ç±¤å’Œæ—¥æœŸæ™‚é–“åœ¨åˆ—è¡¨è¦–åœ–ä¸­æ¸…æ™°å¯è¦‹